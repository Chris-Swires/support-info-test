<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Atlassian Cloud Migration Project</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Use Inter font family */
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Custom styles for the timeline grid */
        .timeline-grid {
            display: grid;
            /* 150px for task labels, 1fr for the main timeline area */
            grid-template-columns: 150px 1fr;
            /* Adjust column count based on dates (Aug 28 to Sep 23 = 27 days) */
            grid-auto-flow: dense;
        }
        .timeline-dates {
            display: grid;
            grid-column: 2 / -1;
            /* 27 date columns */
            grid-template-columns: repeat(27, minmax(40px, 1fr));
        }
        .task-bar {
            grid-column-start: var(--start-day);
            grid-column-end: span var(--duration);
            grid-row: var(--row);
        }
        /* Simple animation for modal */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        @keyframes slideIn {
            from { transform: translateY(-30px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        .modal-fade-in {
            animation: fadeIn 0.3s ease-out;
        }
        .modal-slide-in {
            animation: slideIn 0.3s ease-out;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <!-- Header Section -->
    <header class="bg-blue-800 text-white p-8 text-center shadow-lg">
        <h1 class="text-3xl md:text-4xl font-bold mb-2">Atlassian Cloud Migration Project</h1>
        <p class="text-lg text-blue-200">An interactive overview of the project timeline, dependencies, and action items.</p>
    </header>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto p-4 md:p-8">

        <!-- Key Info Cards Section -->
        <section class="mb-12">
            <h2 class="text-2xl font-bold mb-4 pb-2 border-b-2 border-gray-200">Key Milestones</h2>
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
                <!-- Key Date Card 1 -->
                <div class="bg-white p-5 rounded-lg shadow-md border-l-4 border-red-500">
                    <h3 class="font-bold text-lg mb-1">Account Freeze</h3>
                    <p class="text-gray-600">No new accounts or permissions from <strong class="text-gray-900">4:00 PM, Fri 29 Aug</strong>.</p>
                </div>
                <!-- Key Date Card 2 -->
                <div class="bg-white p-5 rounded-lg shadow-md border-l-4 border-yellow-500">
                    <h3 class="font-bold text-lg mb-1">Content Freeze</h3>
                    <p class="text-gray-600">Confluence/Jira read-only from <strong class="text-gray-900">Wed 3 Sep</strong> (TBC).</p>
                </div>
                <!-- Key Date Card 3 -->
                <div class="bg-white p-5 rounded-lg shadow-md border-l-4 border-blue-500">
                    <h3 class="font-bold text-lg mb-1">Migration Weekend</h3>
                    <p class="text-gray-600">Core migration on <strong class="text-gray-900">Sat 6 Sep - Sun 7 Sep</strong>.</p>
                </div>
                <!-- Key Date Card 4 -->
                <div class="bg-white p-5 rounded-lg shadow-md border-l-4 border-green-500">
                    <h3 class="font-bold text-lg mb-1">Go-Live</h3>
                    <p class="text-gray-600">New Cloud environment & IMS live on <strong class="text-gray-900">Mon 8 Sep</strong>.</p>
                </div>
            </div>
        </section>

        <!-- Interactive Timeline Section -->
        <section class="bg-white p-6 rounded-lg shadow-lg mb-12 overflow-x-auto">
            <h2 class="text-2xl font-bold mb-6 pb-2 border-b-2 border-gray-200">Interactive Project Timeline</h2>
            <div class="timeline-grid">
                <!-- This container holds the timeline headers and dates -->
                <div class="col-start-2 col-span-1">
                    <!-- Grid for the Month Headers -->
                    <div class="grid" style="grid-template-columns: repeat(27, minmax(40px, 1fr));">
                        <div class="text-base font-bold text-center py-2" style="grid-column: 1 / span 4;">AUG '25</div>
                        <div class="text-base font-bold text-center py-2 border-l border-gray-200" style="grid-column: 5 / span 23;">SEP '25</div>
                    </div>
                    <!-- Grid for the Date Markers -->
                    <div class="timeline-dates border-b-2 border-gray-300" style="grid-column: 1 / -1;">
                        <!-- Aug -->
                        <div class="text-center text-xs p-1 border-r"><div class="text-gray-500">Thu</div><div class="font-medium mt-1">28</div></div>
                        <div class="text-center text-xs p-1 border-r"><div class="text-gray-500">Fri</div><div class="font-medium mt-1">29</div></div>
                        <div class="text-center text-xs p-1 border-r bg-gray-100"><div class="text-gray-400">Sat</div><div class="font-medium text-gray-500 mt-1">30</div></div>
                        <div class="text-center text-xs p-1 border-r bg-gray-100"><div class="text-gray-400">Sun</div><div class="font-medium text-gray-500 mt-1">31</div></div>
                        <!-- Sep -->
                        <div class="text-center text-xs p-1 border-r"><div class="text-gray-500">Mon</div><div class="font-medium mt-1">1</div></div>
                        <div class="text-center text-xs p-1 border-r"><div class="text-gray-500">Tue</div><div class="font-medium mt-1">2</div></div>
                        <div class="text-center text-xs p-1 border-r"><div class="text-gray-500">Wed</div><div class="font-medium mt-1">3</div></div>
                        <div class="text-center text-xs p-1 border-r"><div class="text-gray-500">Thu</div><div class="font-medium mt-1">4</div></div>
                        <div class="text-center text-xs p-1 border-r"><div class="text-gray-500">Fri</div><div class="font-medium mt-1">5</div></div>
                        <div class="text-center text-xs p-1 border-r bg-gray-100"><div class="text-gray-400">Sat</div><div class="font-medium text-gray-500 mt-1">6</div></div>
                        <div class="text-center text-xs p-1 border-r bg-gray-100"><div class="text-gray-400">Sun</div><div class="font-medium text-gray-500 mt-1">7</div></div>
                        <div class="text-center text-xs p-1 border-r"><div class="text-gray-500">Mon</div><div class="font-medium mt-1">8</div></div>
                        <div class="text-center text-xs p-1 border-r"><div class="text-gray-500">Tue</div><div class="font-medium mt-1">9</div></div>
                        <div class="text-center text-xs p-1 border-r"><div class="text-gray-500">Wed</div><div class="font-medium mt-1">10</div></div>
                        <div class="text-center text-xs p-1 border-r"><div class="text-gray-500">Thu</div><div class="font-medium mt-1">11</div></div>
                        <div class="text-center text-xs p-1 border-r"><div class="text-gray-500">Fri</div><div class="font-medium mt-1">12</div></div>
                        <div class="text-center text-xs p-1 border-r bg-gray-100"><div class="text-gray-400">Sat</div><div class="font-medium text-gray-500 mt-1">13</div></div>
                        <div class="text-center text-xs p-1 border-r bg-gray-100"><div class="text-gray-400">Sun</div><div class="font-medium text-gray-500 mt-1">14</div></div>
                        <div class="text-center text-xs p-1 border-r"><div class="text-gray-500">Mon</div><div class="font-medium mt-1">15</div></div>
                        <div class="text-center text-xs p-1 border-r"><div class="text-gray-500">Tue</div><div class="font-medium mt-1">16</div></div>
                        <div class="text-center text-xs p-1 border-r"><div class="text-gray-500">Wed</div><div class="font-medium mt-1">17</div></div>
                        <div class="text-center text-xs p-1 border-r"><div class="text-gray-500">Thu</div><div class="font-medium mt-1">18</div></div>
                        <div class="text-center text-xs p-1 border-r"><div class="text-gray-500">Fri</div><div class="font-medium mt-1">19</div></div>
                        <div class="text-center text-xs p-1 border-r bg-gray-100"><div class="text-gray-400">Sat</div><div class="font-medium text-gray-500 mt-1">20</div></div>
                        <div class="text-center text-xs p-1 border-r bg-gray-100"><div class="text-gray-400">Sun</div><div class="font-medium text-gray-500 mt-1">21</div></div>
                        <div class="text-center text-xs p-1 border-r"><div class="text-gray-500">Mon</div><div class="font-medium mt-1">22</div></div>
                        <div class="text-center text-xs p-1 border-r"><div class="text-gray-500">Tue</div><div class="font-medium mt-1">23</div></div>
                    </div>
                </div>

                <!-- Timeline Rows and Bars -->
                <div class="text-sm font-medium text-right pr-4 py-2 border-b" style="grid-row: 3;">Full Migration</div>
                <div class="col-start-2 col-span-full py-2 border-b grid timeline-dates" style="grid-row: 3;"><div class="task-bar bg-purple-600 text-white text-xs p-1 rounded-md shadow cursor-pointer hover:opacity-80" style="--start-day: 10; --duration: 15; --row: 1;" data-task-id="full-migration"></div></div>
                
                <div class="text-sm font-medium text-right pr-4 py-2 border-b" style="grid-row: 4;">New RMP</div>
                <div class="col-start-2 col-span-full py-2 border-b grid timeline-dates" style="grid-row: 4;"><div class="task-bar bg-orange-500 text-white text-xs p-1 rounded-md shadow cursor-pointer hover:opacity-80" style="--start-day: 6; --duration: 9;" data-task-id="new-rmp">Doc migration</div></div>
                
                <div class="text-sm font-medium text-right pr-4 py-2 border-b" style="grid-row: 5;">Trial to Cloud</div>
                <div class="col-start-2 col-span-full py-2 border-b grid timeline-dates" style="grid-row: 5;"><div class="task-bar bg-yellow-500 text-gray-800 text-xs p-1 rounded-md shadow cursor-pointer hover:opacity-80" style="--start-day: 1; --duration: 10;" data-task-id="trial">Fixing Confluence source</div></div>
                
                <div class="text-sm font-medium text-right pr-4 py-2 border-b" style="grid-row: 6;">JIRA Workflow</div>
                <div class="col-start-2 col-span-full py-2 border-b grid timeline-dates" style="grid-row: 6;"><div class="task-bar bg-red-600 text-white text-xs p-1 rounded-md shadow cursor-pointer hover:opacity-80" style="--start-day: 3; --duration: 8;" data-task-id="jira-workflow">Agree on JSM</div></div>
                
                <div class="text-sm font-medium text-right pr-4 py-2 border-b" style="grid-row: 7;">Keycloak Conv.</div>
                <div class="col-start-2 col-span-full py-2 border-b grid timeline-dates" style="grid-row: 7;"><div class="task-bar bg-red-800 text-white text-xs p-1 rounded-md shadow cursor-pointer hover:opacity-80" style="--start-day: 4; --duration: 13;" data-task-id="keycloak-conversion">IMS conversion</div></div>
                
                <div class="text-sm font-medium text-right pr-4 py-2 border-b" style="grid-row: 8;">Comms & Setup</div>
                <div class="col-start-2 col-span-full py-2 border-b grid timeline-dates" style="grid-row: 8;">
                    <div class="task-bar bg-cyan-500 text-white text-xs p-1 rounded-md shadow cursor-pointer hover:opacity-80" style="--start-day: 8; --duration: 2;" data-task-id="comms-wave-1">First Comms</div>
                    <div class="task-bar bg-cyan-600 text-white text-xs p-1 rounded-md shadow cursor-pointer hover:opacity-80" style="--start-day: 13; --duration: 2;" data-task-id="comms-wave-2">Second Comms</div>
                </div>

                <div class="text-sm font-medium text-right pr-4 py-2 border-b" style="grid-row: 9;">Prod Workflows</div>
                <div class="col-start-2 col-span-full py-2 border-b grid timeline-dates" style="grid-row: 9;">
                    <div class="task-bar bg-amber-600 text-white text-xs p-1 rounded-md shadow cursor-pointer hover:opacity-80" style="--start-day: 7; --duration: 12;" data-task-id="prod-workflows">Migration & Switch-off</div>
                </div>

                <div class="text-sm font-medium text-right pr-4 py-2 border-b" style="grid-row: 10;">Go Live Prep</div>
                <div class="col-start-2 col-span-full py-2 border-b grid timeline-dates" style="grid-row: 10;">
                    <div class="task-bar bg-green-600 text-white text-xs p-1 rounded-md shadow cursor-pointer hover:opacity-80" style="--start-day: 16; --duration: 3;" data-task-id="go-live-comms">Go Live Comms</div>
                    <div class="task-bar bg-green-700 text-white text-xs p-1 rounded-md shadow cursor-pointer hover:opacity-80" style="--start-day: 19; --duration: 2;" data-task-id="go-live-deploy">Deploy IMS</div>
                    <div class="task-bar bg-green-800 text-white text-xs p-1 rounded-md shadow cursor-pointer hover:opacity-80" style="--start-day: 21; --duration: 5;" data-task-id="go-live-final">Go Live</div>
                </div>
            </div>
        </section>

        <!-- Details Accordion Section -->
        <section>
            <h2 class="text-2xl font-bold mb-4 pb-2 border-b-2 border-gray-200">Project Details & Actions</h2>
            <div id="accordion-container" class="space-y-4">
                <!-- Accordion Item 1 -->
                <div class="bg-white rounded-lg shadow-md overflow-hidden">
                    <button class="accordion-button w-full p-5 text-left font-semibold text-lg flex justify-between items-center hover:bg-gray-50 transition">
                        <span>Confluence Migration Details</span>
                        <svg class="w-6 h-6 transform transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                    </button>
                    <div class="accordion-content max-h-0 overflow-hidden transition-all duration-500 ease-in-out">
                        <div class="p-5 border-t border-gray-200 text-gray-700">
                            <ul class="list-disc pl-5 space-y-2">
                                <li><strong>Target Migration Date:</strong> 3rd September (subject to change).</li>
                                <li><strong>Naming:</strong> A new name for the Confluence instance is required.</li>
                                <li><strong>Gliffy Diagrams:</strong> Terance & Chris Morris are exploring automated conversion. Manual options are a fallback.</li>
                                <li><strong>Discussions:</strong> Existing discussions will be made read-only. New/ongoing discussions must move to the Forums.</li>
                                <li><strong>Briefing Notes:</strong> Process needs to be clearly explained.</li>
                                <li><strong>Testing:</strong> A timeline is needed for when internal users can test the new environment.</li>
                            </ul>
                        </div>
                    </div>
                </div>
                <!-- Accordion Item 2 -->
                <div class="bg-white rounded-lg shadow-md overflow-hidden">
                    <button class="accordion-button w-full p-5 text-left font-semibold text-lg flex justify-between items-center hover:bg-gray-50 transition">
                        <span>JIRA Migration Details</span>
                        <svg class="w-6 h-6 transform transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                    </button>
                    <div class="accordion-content max-h-0 overflow-hidden transition-all duration-500 ease-in-out">
                        <div class="p-5 border-t border-gray-200 text-gray-700">
                           <ul class="list-disc pl-5 space-y-2">
                                <li><strong>Target Migration Date:</strong> 3rd September (subject to change).</li>
                                <li><strong>Naming:</strong> A new name is suggested for the JIRA instance.</li>
                                <li><strong>Workflows:</strong> Cross-tech team agreement on support workflows is necessary.</li>
                                <li><strong>Testing:</strong> Internal users, especially from content teams for trackers, will be needed for testing.</li>
                           </ul>
                        </div>
                    </div>
                </div>
                <!-- Accordion Item 3 -->
                <div class="bg-white rounded-lg shadow-md overflow-hidden">
                    <button class="accordion-button w-full p-5 text-left font-semibold text-lg flex justify-between items-center hover:bg-gray-50 transition">
                        <span>User Accounts & Login (Keycloak)</span>
                        <svg class="w-6 h-6 transform transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                    </button>
                    <div class="accordion-content max-h-0 overflow-hidden transition-all duration-500 ease-in-out">
                        <div class="p-5 border-t border-gray-200 text-gray-700">
                            <ul class="list-disc pl-5 space-y-2">
                                <li><strong>Password Reset:</strong> An automated email will be sent to users with instructions on how to set their new password.</li>
                                <li><strong>Landing Page:</strong> A new "SNOMED International Account" landing page should be available in time for the migration.</li>
                                <li><strong>Dual Accounts:</strong> For a short period (max 1 month), tooling users may have two accounts: one for Atlassian (Jira/Confluence) and one for other SNOMED tools.</li>
                                <li><strong>Forums:</strong> Users will need to create an account on the Forums. This may later be integrated with Keycloak OIDC to remove the need for a separate signup. User groups on Forums are manually maintained for now.</li>
                            </ul>
                        </div>
                    </div>
                </div>
                 <!-- Accordion Item 4 -->
                <div class="bg-white rounded-lg shadow-md overflow-hidden">
                    <button class="accordion-button w-full p-5 text-left font-semibold text-lg flex justify-between items-center hover:bg-gray-50 transition">
                        <span>Communications Plan</span>
                        <svg class="w-6 h-6 transform transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                    </button>
                    <div class="accordion-content max-h-0 overflow-hidden transition-all duration-500 ease-in-out">
                        <div class="p-5 border-t border-gray-200 text-gray-700">
                            <ul class="list-disc pl-5 space-y-2">
                                <li><strong>Aug 6:</strong> Agenda item at SMT meeting.</li>
                                <li><strong>Aug 7:</strong> Internal Webinar.</li>
                                <li><strong>w/c Aug 4:</strong> First external comms ("exciting changes incoming...").</li>
                                <li><strong>Mid-August:</strong> Second, more detailed comms to be sent.</li>
                                <li><strong>Aug 27:</strong> Presentation at MF meeting.</li>
                                <li><strong>Target Audiences:</strong> Separate messaging for MB/GA, MF, and AGs/UGs/PGs.</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Modal -->
    <div id="taskModal" class="fixed inset-0 bg-black bg-opacity-60 z-50 flex items-center justify-center p-4 hidden modal-fade-in">
      <div class="bg-white rounded-xl shadow-2xl w-full max-w-2xl mx-auto p-8 modal-slide-in">
        <div class="flex justify-between items-center mb-4">
            <h2 id="modal-title" class="text-2xl font-bold text-gray-800">Task Details</h2>
            <button id="close-modal-button" class="text-gray-500 hover:text-gray-800 transition-colors text-3xl leading-none">&times;</button>
        </div>
        <div id="modal-body" class="text-gray-700">
          <!-- Modal content will be injected here -->
        </div>
      </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- Modal Logic ---
            const modal = document.getElementById('taskModal');
            const modalTitle = document.getElementById('modal-title');
            const modalBody = document.getElementById('modal-body');
            const closeModalButton = document.getElementById('close-modal-button');
            const taskBars = document.querySelectorAll('.task-bar');

            // Data for each task
            const taskDetails = {
                'full-migration': {
                    title: 'Full Atlassian Cloud Migration',
                    details: `<p class="mb-4">This is the core migration event for Confluence and Jira to the Atlassian Cloud environment.</p><ul class="list-disc pl-5 space-y-2"><li><strong>Timing:</strong> Planned for the weekend of Sat 6th - Sun 7th September 2025.</li><li><strong>Goal:</strong> All tooling in maintenance mode. Final switch-over to the new cloud platform.</li><li><strong>Assumption:</strong> Will be done during working hours for best staff coverage. Plan for 3 days, communicate if finished early.</li><li><strong>Post-Migration:</strong> Go-Live is scheduled for Monday 8th September.</li></ul>`
                },
                'new-rmp': {
                    title: 'New RMP Project',
                    details: `<p class="mb-4">The RMP (Request Management Portal) is being migrated to a new system.</p><ul class="list-disc pl-5 space-y-2"><li><strong>Status:</strong> RMP is moving to 'Request', mitigating this dependency by the Q3 deployment.</li><li><strong>Timeline:</strong> RMP to stay in maintenance mode after the main go-live (with a static landing page).</li><li><strong>Go-Live:</strong> A week or two after the main Atlassian go-live (Chris S to confirm).</li><li><strong>Action:</strong> Create a static maintenance page for RMP. RMP data migration to occur post-go-live.</li></ul>`
                },
                'trial': {
                    title: 'Trial Migration to Atlassian Cloud',
                    details: `<p class="mb-4">This phase involves testing the migration process and fixing preliminary issues.</p><ul class="list-disc pl-5 space-y-2"><li><strong>Key Activity:</strong> Fixing Confluence source links and content.</li><li><strong>Dependencies:</strong> Reviewing all application links, system accounts, and macros (e.g., easyBI).</li><li><strong>Outcome:</strong> Informs the final migration plan and helps identify unforeseen issues.</li></ul>`
                },
                'jira-workflow': {
                    title: 'JIRA Workflow Migration',
                    details: `<p class="mb-4">The internal Jira workflow is being replaced as part of the Q3 deployment, prior to the cloud migration.</p><ul class="list-disc pl-5 space-y-2"><li><strong>Agreement:</strong> Support for the new workflow will be handled with JSM (Jira Service Management).</li><li><strong>Timeline:</strong> Must be fully migrated by end of Friday 29th August.</li><li><strong>Decisions:</strong> A new name for JIRA is suggested. Cross-team agreement on support workflows is needed.</li><li><strong>Action:</strong> Decommission tasks for the old workflow, potentially turning it off to the public once read-only.</li></ul>`
                },
                'keycloak-conversion': {
                    title: 'IMS Conversion to Keycloak',
                    details: `<p class="mb-4">The Identity Management System (IMS) is being converted from Crowd to Keycloak.</p><ul class="list-disc pl-5 space-y-2"><li><strong>Strategy:</strong> Lift and shift of users/groups. At go-live, Keycloak becomes the source of truth for Confluence/Jira users.</li><li><strong>User Impact:</strong> Users will receive an automated email to set their password via a new account landing page.</li><li><strong>Go-Live:</strong> Coincides with the main go-live on Monday 8th September.</li><li><strong>Impact:</strong> Requires many systems (CIS, RT2, Rundeck etc.) to be updated to point to Keycloak instead of Crowd. Extensive testing required.</li></ul>`
                },
                'comms-wave-1': {
                    title: 'First Communications Wave',
                    details: `<p class="mb-4">The initial round of communications to announce the upcoming changes.</p><ul class="list-disc pl-5 space-y-2"><li><strong>Audience:</strong> External stakeholders (MB, GA, MF, AGs, etc.).</li><li><strong>Content:</strong> "Exciting changes incoming..." message.</li><li><strong>Timing:</strong> Week commencing 4th August.</li><li><strong>Follow-up:</strong> Internal webinar scheduled for 7th August.</li></ul>`
                },
                'comms-wave-2': {
                    title: 'Second Communications Wave',
                    details: `<p class="mb-4">A more detailed round of communications as the migration date approaches.</p><ul class="list-disc pl-5 space-y-2"><li><strong>Timing:</strong> Mid-August.</li><li><strong>Content:</strong> More specific details about timelines, freezes, and user impact.</li><li><strong>Follow-up:</strong> Presentation at the MF meeting on 27th August.</li></ul>`
                },
                'prod-workflows': {
                    title: 'Production Workflow Migration & Switch-off',
                    details: `<p class="mb-4">Finalizing the migration of production workflows ahead of the main event.</p><ul class="list-disc pl-5 space-y-2"><li><strong>EPS AP:</strong> Workflow migration to be completed after its Q3 deployment but before Fri 29th Aug. Ian S to test.</li><li><strong>INT & US:</strong> Workflow migration scheduled for end of day 26th Aug.</li><li><strong>RMP:</strong> Moving to Request, mitigated by Q3 deployment.</li><li><strong>Account Switch-off:</strong> Account migration to Keycloak is a key step before the prod-workflow switch-off.</li></ul>`
                },
                'go-live-comms': { title: 'Go Live Communications', details: '<p>Final communications to be sent to all users announcing that the new systems are live. All communications will be in UTC with clear dates and times.</p>'},
                'go-live-deploy': { title: 'Deploy IMS', details: '<p>The final deployment of the new Identity Management System (IMS) version that is fully integrated with Keycloak.</p>'},
                'go-live-final': { title: 'Go Live', details: '<p>The official launch of the new Atlassian Cloud (Confluence & JIRA) environment and the new IMS. Scheduled for Monday 8th September.</p>'}
            };

            // Open modal
            taskBars.forEach(bar => {
                bar.addEventListener('click', () => {
                    const taskId = bar.dataset.taskId;
                    const data = taskDetails[taskId];
                    if (data) {
                        modalTitle.textContent = data.title;
                        modalBody.innerHTML = data.details;
                        modal.classList.remove('hidden');
                    }
                });
            });

            // Close modal
            const closeModal = () => {
                modal.classList.add('hidden');
            };
            closeModalButton.addEventListener('click', closeModal);
            modal.addEventListener('click', (event) => {
                if (event.target === modal) {
                    closeModal();
                }
            });

            // --- Accordion Logic ---
            const accordionButtons = document.querySelectorAll('.accordion-button');
            accordionButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const content = button.nextElementSibling;
                    const icon = button.querySelector('svg');

                    const isExpanded = content.style.maxHeight;

                    // Close all accordions
                    accordionButtons.forEach(otherButton => {
                        otherButton.nextElementSibling.style.maxHeight = null;
                        otherButton.querySelector('svg').style.transform = 'rotate(0deg)';
                    });

                    // Toggle current accordion
                    if (!isExpanded) {
                        content.style.maxHeight = content.scrollHeight + 'px';
                        icon.style.transform = 'rotate(180deg)';
                    }
                });
            });
        });
    </script>
</body>
</html>
